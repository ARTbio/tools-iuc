<?xml version="1.0"?>
<application id="cons">
  <metadata>
    <documentation><![CDATA[Create a consensus sequence from a multiple alignment]]></documentation>
    <groups><![CDATA[Alignment:Consensus]]></groups>
    <relations><![CDATA[EDAM_topic:0182 Sequence alignment]]></relations>
    <relations><![CDATA[EDAM_operation:0448 Sequence alignment analysis
                                       (conservation)]]></relations>
  </metadata>
  <section id="input">
    <metadata>
      <information><![CDATA[Input section]]></information>
      <type><![CDATA[page]]></type>
    </metadata>
    <parameter type="seqset" name="sequence">
      <parameter><![CDATA[Y]]></parameter>
      <type><![CDATA[gapany]]></type>
      <aligned><![CDATA[Y]]></aligned>
      <minseqs><![CDATA[2]]></minseqs>
      <help><![CDATA[File containing a sequence alignment.]]></help>
      <relations><![CDATA[EDAM_data:0863 Sequence alignment]]></relations>
    </parameter>
    <parameter type="matrix" name="datafile">
      <additional><![CDATA[Y]]></additional>
      <information><![CDATA[Scoring matrix]]></information>
      <protein><![CDATA[$(acdprotein)]]></protein>
      <help><![CDATA[This is the scoring matrix file used when comparing
           sequences. By default it is the file 'EBLOSUM62' (for proteins) or
           the file 'EDNAFULL' (for nucleic sequences). These files are
           found in the 'data' directory of the EMBOSS installation.]]></help>
      <relations><![CDATA[EDAM_data:0874 Comparison matrix]]></relations>
    </parameter>
  </section>
  <section id="additional">
    <metadata>
      <information><![CDATA[Additional section]]></information>
      <type><![CDATA[page]]></type>
    </metadata>
    <parameter type="float" name="plurality">
      <additional><![CDATA[Y]]></additional>
      <information><![CDATA[Plurality check value]]></information>
      <help><![CDATA[Set a cut-off for the number of positive matches below
           which there is no consensus. The default plurality is taken as
           half the total weight of all the sequences in the alignment.]]></help>
      <default><![CDATA[@( $(sequence.totweight) / 2)]]></default>
      <expected><![CDATA[Half the total sequence weighting]]></expected>
      <relations><![CDATA[EDAM_data:2527 Parameter]]></relations>
    </parameter>
    <parameter type="integer" name="identity">
      <additional><![CDATA[Y]]></additional>
      <information><![CDATA[Required number of identities at a position]]></information>
      <help><![CDATA[Provides the facility of setting the required number of
           identities at a site for it to give a consensus at that position.
           Therefore, if this is set to the number of sequences in the
           alignment only columns of identities contribute to the consensus.]]></help>
      <default><![CDATA[0]]></default>
      <minimum><![CDATA[0]]></minimum>
      <relations><![CDATA[EDAM_data:2527 Parameter]]></relations>
    </parameter>
    <parameter type="float" name="setcase">
      <additional><![CDATA[Y]]></additional>
      <information><![CDATA[Define a threshold above which the consensus
                  is given in uppercase]]></information>
      <help><![CDATA[Sets the threshold for the positive matches above which the
           consensus is is upper-case and below which the consensus is in
           lower-case.]]></help>
      <default><![CDATA[@( $(sequence.totweight) / 2)]]></default>
      <relations><![CDATA[EDAM_data:2146 Threshold]]></relations>
    </parameter>
  </section>
  <section id="output">
    <metadata>
      <information><![CDATA[Output section]]></information>
      <type><![CDATA[page]]></type>
    </metadata>
    <parameter type="seqout" name="outseq">
      <parameter><![CDATA[Y]]></parameter>
      <relations><![CDATA[EDAM_data:0849 Sequence record]]></relations>
      <relations><![CDATA[EDAM_data:0848 Raw sequence]]></relations>
    </parameter>
    <parameter type="string" name="name">
      <additional><![CDATA[Y]]></additional>
      <default><![CDATA[]]></default>
      <information><![CDATA[Name of the consensus sequence]]></information>
      <knowntype><![CDATA[sequence id output]]></knowntype>
      <relations><![CDATA[EDAM_identifier:1063 Sequence identifier]]></relations>
    </parameter>
  </section>
</application>
