<tool id="enasearch_retrieve_run_report" name="Retrieve a run report" version="@WRAPPER_VERSION@.0">
    <description></description>
    <macros>
        <import>macros.xml</import>
        <import>search_macros.xml</import>
    </macros>
    <expand macro="requirements"/>
    <expand macro="version"/>
    <command detect_errors="aggressive"><![CDATA[
enasearch
    retrieve_run_report
    --accession '$accession'
    #if $fields
        #for $f in str($fields).split(',')
            --fields '$f'
        #end for
    #end if
    --file '$output'
    ]]></command>
    <inputs>
        <param argument="--accession" type="text" label="Accession id" help="Study accessions (ERP, SRP, DRP, PRJ prefixes), experiment accessions (ERX, SRX, DRX prefixes), sample accessions (ERS, SRS, DRS, SAM prefixes) and run accessions"/>
        <param argument="--fields" type="select" optional="true" multiple="true" label="Fields to return">
            <expand macro="run_fields"/>
        </param>
    </inputs>
    <outputs>
        <data name="output" format="tabular" label="${tool.name} on ${accession}"/>
    </outputs>
    <tests>
        <test>
            <param name="accession" value="SRX017289"/>
            <output name="output" md5="086ecd0ce0e732e2e35085661cd6eda5"/>
        </test>
        <test>
            <param name="accession" value="SRX017289"/>
            <param name="fields" value="study_accession,study_title,sra_aspera"/>
            <output name="output" md5="33ee3c84f03da54e8bcc0c66d651d976"/>
        </test>
    </tests>
    <help><![CDATA[
**What it does**

This tool retrieve an analysis report for an accession id
    ]]></help>
    <expand macro="citations"/>
</tool>
