<tool id="enasearch_retrieve_analysis_report" name="Retrieve an analysis report" version="@WRAPPER_VERSION@.0">
    <description></description>
    <macros>
        <import>macros.xml</import>
        <import>search_macros.xml</import>
    </macros>
    <expand macro="requirements"/>
    <expand macro="version"/>
    <command detect_errors="aggressive"><![CDATA[
enasearch
    retrieve_analysis_report
    --accession '$accession'
    #if $fields
        #for $f in str($fields).split(',')
            --fields '$f'
        #end for
    #end if
    --file '$output'
    ]]></command>
    <inputs>
        <param argument="--accession" type="text" label="Accession id" help="Study accessions (ERP, SRP, DRP, PRJ prefixes), experiment accessions (ERX, SRX, DRX prefixes), sample accessions (ERS, SRS, DRS, SAM prefixes) and run accessions"/>
        <param argument="--fields" type="select" optional="true" multiple="true" label="Fields to return">
            <expand macro="analysis_fields"/>
        </param>
    </inputs>
    <outputs>
        <data name="output" format="tabular" label="${tool.name} on ${accession}"/>
    </outputs>
    <tests>
        <test>
            <param name="accession" value="ERZ009929"/>
            <output name="output" md5="d9dd69aa81e40292a595afb55c1f8dd6"/>
        </test>
        <test>
            <param name="accession" value="ERZ009929"/>
            <param name="fields" value="analysis_accession"/>
            <output name="output" md5="7249f93fac05d1e6746a076e1ae445b5"/>
        </test>
        <test>
            <param name="accession" value="ERZ009929"/>
            <param name="fields" value="analysis_accession,sample_accession,scientific_name"/>
            <output name="output" md5="af4ba9b125b27525979ab6ea6a2b3637"/>
        </test>
    </tests>
    <help><![CDATA[
**What it does**

This tool retrieve an analysis report for an accession id
    ]]></help>
    <expand macro="citations"/>
</tool>
