<tool id="odgi_viz" name="odgi" version="@VERSION@">
    <description>variation graph visualizations (viz)</description>
    <macros>
        <import>macros.xml</import>
    </macros>
    <expand macro="requirements"/>
    <command detect_errors="exit_code"><![CDATA[
odgi viz

    -i '$input'
    --out='$output'
    -x $width
    -y $height
    #if $path_height
        --path-height=$path_height
    #end if
    #if $path_x_padding
        --path-x-padding=$path_x_padding
    #end if
    $path_per_row
    #if $link_path_pieces:
        --link-path-pieces=$link_path_pieces
    #end if

    --threads=\${GALAXY_SLOTS:-1}

    ]]></command>
    <inputs>
        <param name="input" type="data" format="odgi" label="odgi input file" />

        <param argument="--width" type="integer" min="0" value="4000" label="Width in pixels of output image" />
        <param argument="--height" type="integer" min="0" value="500" label="Height in pixels of output image" />

        <param argument="--path-height" name="path_height" type="integer" min="0" optional="true" label="Path display height" />
        <param argument="--path-x-padding" name="path_x_padding" type="integer" min="0" optional="true" label="Path x padding" />
        <param argument="--path-per-row" name="path_per_row" type="boolean" truevalue="--path-per-row" falsevalue="" checked="False"
            label="Display a single path per row rather than packing them"
            help="" />

        <param argument="--link-path-pieces" name="link_path_pieces" type="float" optional="true"
            label="Show thin links of this relative width to connect path pieces"
            help="" />

    </inputs>
    <outputs>
        <data format="png" name="output" />
    </outputs>
    <tests>
        <test>
            <param name="input" value="note5_out.og" />
            <param name="width" value="4000" />
            <param name="height" value="500" />
            <output name="output" file="note5.png" ftype="png" />
        </test>
    </tests>
    <help><![CDATA[

optimized dynamic genome/graph implemenation (odgi)
---------------------------------------------------

variation graph visualizations (viz)

]]></help>
    <expand macro="citations" />
</tool>
