<tool id="spotyping_splot" name="SpoTyping SITVIT plot" version="@TOOL_VERSION@+galaxy0" profile="17.01">
    <description>PDF report from SITVIT spoligotype report</description>

    <macros>
        <import>spotyping_macros.xml</import>
    </macros>

    <requirements>
        <requirement type="package" version="@TOOL_VERSION@">spotyping</requirement>
    </requirements>

    <command detect_errors="exit_code"><![CDATA[
    ln -s '${input}' SITVIT.xls &&
    SpoTyping_plot.r SITVIT.xls '${output}'
    ]]></command>

    <inputs>
        <param name="input" type="data" format="excel.xls" label="SITVIT report from SpoTyping" />
    </inputs>

    <outputs>
        <data name="output" label="SpoTyping PDF SITVIT report on ${on_string}" format="pdf" />
    </outputs>

    <tests>
        <test>
            <param name="input" value="input.sitvit.xls" ftype="excel.xls" />
            <output name="output" file="output.sitvit.pdf" />
        </test>
    </tests>

    <help><![CDATA[
    Converts a SITVIT_ report downloaded by SpoTyping_ to PDF.

.. _SpoTyping: https://github.com/xiaeryu/SpoTyping
.. _SITVIT: http://www.pasteur-guadeloupe.fr:8081/SITVIT_ONLINE/
    ]]></help>

  <citations>
    <expand macro="spotyping_citation" />
  </citations>
</tool>