<tool id="bctools_extract_barcodes" name="Extract barcodes" version="1.0.0">
    <description>according to pattern</description>
    <macros>
        <import>macros.xml</import>
    </macros>
    <expand macro="requirements"/>
    <expand macro="stdio"/>
    <command><![CDATA[
        extract_bcs.py
        '$positional_1'
        #if $positional_2 and $positional_2 is not None:
            '$positional_2'
        #end if
        --bcs '$extractedbcs'
        > '$default'
    ]]></command>
    <inputs>
        <param label="Barcoded sequences." name="positional_1" type="data" format="fastq"/>
        <param area="false" label="Pattern for extracting  barcode nucleotides." help="Starting at 5'-end. X positions will be moved to a separate file, N positions will be kept." name="positional_2" type="text"/>
    </inputs>
    <outputs>
        <data name="default" format="fastq"/>
        <data name="extractedbcs" format="fastq"/>
    </outputs>
    <tests>
        <test>
            <param name="positional_1" value="reads.fastq"/>
            <param name="positional_2" value="XXXNNXXX"/>
            <output name="default" file="result_original_head.fastq"/>
            <output name="extractedbcs" file="extracted_bcs.fastq"/>
        </test>
    </tests>
    <help><![CDATA[

bctools - Extract barcodes according to pattern
===============================================

Exract barcodes from a FASTQ file according to a user-specified pattern and write them to a separate FASTQ file.

    ]]></help>
    <expand macro="citations"/>
</tool>
