<?xml version="1.0"?>
<tool id="ont_fast5_api_multi_to_single_fast5" name="@TOOL_NAME@ Multi to single" version="@TOOL_VERSION@+galaxy0" profile="18.01">
    <description>read file(s)</description>
    <macros>
        <import>macros.xml</import>
    </macros>
    <expand macro="requirements"/>
    <version_command><![CDATA[multi_to_single_fast5 -v]]></version_command>
    <command detect_errors="exit_code"><![CDATA[
## initialize
mkdir data &&
#for $num, $current in enumerate($input_path):
    ln -s '$current' './data/batch${num}.fast5' &&
#end for

## run
multi_to_single_fast5
## required
@INPUTPATH@
@SAVEPATH@
## optional
@THREADS@
    ]]></command>
    <inputs>
        <expand macro="input"/>
    </inputs>
    <outputs>
        <expand macro="output"/>
    </outputs>
    <tests>
        <!-- #1 default -->
        <test expect_num_outputs="1">
            <param name="input_path" value="multi1.fast5"/>
            <output name="out_results">
                <assert_contents>
                    <has_size value="15200"/>
                </assert_contents>
                <discovered_dataset designation="fe8a3026-d1f4-46b3-8daa-e610f27acde1" ftype="fast5">
                    <assert_contents>
                        <has_size value="15200"/>
                    </assert_contents>
                </discovered_dataset>
            </output>
        </test>
        <!-- #2 -->
        <test expect_num_outputs="1">
            <param name="input_path" value="multi1.fast5,multi2.fast5"/>
            <output name="out_results">
                <assert_contents>
                    <has_size value="15200"/>
                </assert_contents>
                <!-- fe85b517-62ee-4a33-8767-41cab5d5ab39 is represented by out_results -->
                <discovered_dataset designation="fe849dd3-63bc-4044-8910-14e1686273bb" ftype="fast5">
                    <assert_contents>
                        <has_size value="15200"/>
                    </assert_contents>
                </discovered_dataset>
                <discovered_dataset designation="fe8a3026-d1f4-46b3-8daa-e610f27acde1" ftype="fast5">
                    <assert_contents>
                        <has_size value="15200"/>
                    </assert_contents>
                </discovered_dataset>
            </output>
        </test>
    </tests>
    <help><![CDATA[
.. class:: infomark

**What it does**

@WID@

*multi_to_single_fast5* converts multi read FAST5 files into single read FAST5 files.

**Input**

Multi read file(s) in FAST5 format.

**Output**

Single read FAST5 file(s).

.. class:: infomark

**References**

@REFERENCES@
    ]]></help>
    <expand macro="citations"/>
</tool>