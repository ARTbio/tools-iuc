<tool id="bum" name="Fit a BUM model" version="1.0">
    <description>with p-values</description>
    <requirements>
        <requirement type="package" version="1.20.0">r-getopt</requirement>
        <requirement type="package" version="1.34.0">bioconductor-bionet</requirement>
        <requirement type="package" version="5.9">ncurses</requirement>
    </requirements>
    <stdio>
        <exit_code range="1:"/>
    </stdio>
    <command>
        <![CDATA[
        Rscript $__tool_directory__/bum.R --input $input_file --output $output_file
        ]]>
    </command>
    <inputs>
        <param type="data" name="input_file" label="Input file" format="txt" help="
        The input file should only contain p-values, each per line." />
    </inputs>
    <outputs>
        <data name="output_file" format="txt" label="${tool.name} on ${on_string}: BUM params"/>
    </outputs>
    <tests>
      <!--Ensure the stochastic result is similar enough-->
        <test>
            <param name="input_file" value="BUM_input.txt" />
            <output name="output_file">
                <assert_contents>
                    <has_text text="0.684" />
                    <has_text text="0.376" />
                </assert_contents>
            </output>
        </test>
    </tests>
    <help><![CDATA[
BUM is the abbreviation for "Beta-Uniform Mixture (BUM) distribution."

This tool (part of the package "Bionet") is used for fitting Beta-Uniform
mixture model to a P-value distribution, the output of which is two model
parameters: lambda and alpha, kept in a text file, the first line is the
lambda; the second is alpha.
    ]]></help>
    <citations>
        <citation type="doi">10.1093/bioinformatics/btq089</citation>
        <citation type="doi">10.1093/bioinformatics/btn161</citation>
    </citations>
</tool>
