<tool id="heinz" name="Identify optimal scoring subnetwork" version="1.0">
    <description>using Heinz</description>
    <requirements>
        <requirement type="package" version="2.0">heinz</requirement>
    </requirements>
    <command>
        heinz -m $input1 -n $input2 -e $input3 1> $output1 2> /dev/null
    </command>
    <inputs>
        <param type="integer" name="input1" value="1" label="The number of CPU cores to use">
            <validator type="in_range" message="The number of CPU cores is not allowed!" min="1" max="4" />
        </param>
        <param type="data" name="input2" format="txt" label="Score file"
        help="The file should contain two columns: node identifier (e.g. gene) and score" />
        <param type="data" name="input3" format="txt" label="Edge file"
        help="In this file, one edge per line" />
    </inputs>
    <outputs>
        <data name="output1" format="txt" label="${tool.name} on ${on_string}: Optimal subgraph" />
    </outputs>
    <tests>
        <test>
            <param name="input1" value="1" />
            <param name="input2" value="NodesPCST.txt" />
            <param name="input3" value="EdgesPCST.txt" />
            <output name="output1">
                <assert_contents>
                    <has_text text='label="a\n5\n0\n0"' />
                    <has_text text='label="b\n-4\n0\n1",shape=box' />
                    <has_text text="Total weight: 36" />
                    <has_text text="0 -- 1" />
                    <has_text text="1 -- 3" />
                    <has_text text="5 -- 7" />
                </assert_contents>
            </output>
        </test>
    </tests>
    <help><![CDATA[
You can specify the number of CPU cores to use for Heinz computation; the default value is 1.

Score file --- the output file of the tool "Calculate Heinz scores": two columns delimited
by a tab without headers, one is node identifier (e.g. genes); the other, score.

========= ===================
K10970    -6.991782933819368
--------- -------------------
K10780    -5.206139799106934
--------- -------------------
K01484    -0.9299868303078357
--------- -------------------
K09055    -5.845009850430119
========= ===================


Edge file: the background network Heinz uses in the form of a list of edges; each line is made up of
two node identifiers (e.g. genes) delimited by a tab.

========= =========
K10970    K10780
--------- ---------
K10780    K01484
--------- ---------
K01484    K10970
--------- ---------
K09055    K10780
========= =========


    ]]></help>
    <citations>
        <citation type="doi">10.1093/bioinformatics/btn161</citation>
    </citations>
</tool>
