<?xml version="1.0"?>
<tool id="transit_gumbel" name="Gumbel" version="@VERSION@+galaxy1">
    <description>- determine essential genes</description>
    <macros>
        <import>macros.xml</import>
    </macros>
    <expand macro="requirements" />
    <command detect_errors="exit_code"><![CDATA[
    	@LINK_INPUTS@
        transit gumbel $input_files annotation.dat transit_out.txt
        @STANDARD_OPTIONS@
        -s $samples -b $burnin -m $smallest -t $trim
        ]]>
    </command>
    <inputs>
        <expand macro="standard_inputs">
            <param name="samples" argument="-s" type="integer" value="10000" label="Number of samples" />
            <param name="burnin" argument="-b" type="integer" value="500" label="Number of Burn-in samples" />
            <param name="smallest" argument="-m" type="integer" value="1" label="Smallest read-count to consider" />
            <param name="trim" argument="-t" type="integer" value="1" label="Trimming interval for values" />
        </expand>
    </inputs>
    <outputs>
        <expand macro="outputs" />
    </outputs>
    <tests>
        <test>
            <param name="inputs" ftype="wig" value="transit-in1-rep1.wig,transit-in1-rep2.wig" />
            <param name="controls" ftype="wig" value="transit-co1-rep1.wig,transit-co1-rep2.wig,transit-co1-rep3.wig" />
            <param name="annotation" ftype="gff3" value="transit-in1.gff3" />
            <param name="samples" value="1000" />
            <param name="burnin" value="100" />
            <output name="sites" file="gumbel-sites1.txt" ftype="tabular" compare="sim_size" />
        </test>
    </tests>
    <help>
<![CDATA[
Gumbel can be used to determine which genes are essential in a single condition. It does a gene-by-gene analysis of the insertions at TA sites with each gene, makes a call based on the longest consecutive sequence of TA sites without insertion in the genes, calculates the probability of this using a Bayesian model.
]]></help>
    <expand macro="citations" />
</tool>
