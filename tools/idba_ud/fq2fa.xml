<tool id="fq2fa" name="fq2fa" version="1.1.3">
    <description>convert fastq to fasta, merge paired-end reads and filter out reads containing 'N's</description>
    <macros>
        <import>macros.xml</import>
    </macros>
    <expand macro="requirements"/>
    <command>
        fq2fa
        #if $fileLayout.layout=='paired'
            --paired '$fileLayout.sequence'
        #else if $fileLayout.layout=='merge'
            --merge '$fileLayout.sequenceR1' '$fileLayout.sequenceR2'
        #else
            '$fileLayout.sequence'
        #end if
        $filter
        '$output'
    </command>
    <inputs>
        <conditional name="fileLayout">
            <param name="layout" type="select" label="File layout">
                <option value="">single end</option>
                <option value="paired">paired-end in one file (--paired)</option>
                <option value="merge">paired-end in two files (--merge)</option>
            </param>
            <when value="">
                <param name="sequence" type="data" format="fastq" label="Single sequence file"/>
            </when>
            <when value="paired">
                <param name="sequence" type="data" format="fastq" label="Interleaved sequence file"/>
            </when>
            <when value="merge">
                <param name="sequenceR1" type="data" format="fastq" label="Forward sequence file (R1)"/>
                <param name="sequenceR2" type="data" format="fastq" label="Reverse sequence file (R2)"/>
            </when>
        </conditional>
        <param name="filter" type="boolean" checked="false" truevalue="--filter" falsevalue="" argument="--filter" label="Filter out reads containing 'N'"/>
    </inputs>
    <outputs>
        <data name="output" format="fasta" label="Fasta from fq2fa"/>
    </outputs>
    <tests>
        <test>
            <conditional name="fileLayout">
                <param name="layout" value="merge"/>
                <param name="sequenceR1" ftype="fastq" value="assembly_sample-R1.fastq"/>
                <param name="sequenceR2" ftype="fastq" value="assembly_sample-R1.fastq"/>
                <output name="output" file="merged.fa" ftype="fasta"/>
            </conditional>
        </test>
    </tests>
    <help>
=====
fq2fa
=====
Convert Fastq sequences to Fasta sequences.

| ``Usage:``
| ``fq2fa tmp.fq tmp.fa [...]``
| ``fq2fa --paired tmp.fq tmp.fa``
| ``fq2fa --merge tmp_1.fq tmp_2.fq tmp.fa``
|
| Allowed Options:

--paired  if the reads are paired-end in one file
--merge   if the reads are paired-end in two files
--filter  filter out reads containing 'N'
    </help>
</tool>
